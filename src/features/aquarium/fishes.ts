// src/features/aquarium/fishes.ts
import type { IngredientTitle } from "@/features/kitchen/type";

export type FishRarity = "일반" | "희귀" | "에픽" | "전설";

export type FishInfo = {
  id: string;
  labelKo: string;
  cost: number;
  image: string;
  size: number; // 1.0 = 기본, >1 = 크게, <1 = 작게
  swimY: [number, number]; // 수영 높이 범위 (%): 0=수면, 100=바닥
  breedProb: number; // 교배 확률 (0~1)
  isWild: boolean; // 야생 여부 (상점엔 false만 노출)
  ingredient: IngredientTitle; // 필요한 재료
  rarity: FishRarity; // 희귀도
  description: string; // 짧은 설명
};

/** 희귀도별 기본 포획 확률 */
export const RARITY_CAPTURE: Record<FishRarity, number> = {
  일반: 0.4,
  희귀: 0.15,
  에픽: 0.04,
  전설: 0.01,
};

/** 물고기의 포획 확률(희귀도 기반) */
export function getCaptureProb(fish: Pick<FishInfo, "rarity">): number {
  return RARITY_CAPTURE[fish.rarity];
}

export const FISHES: FishInfo[] = [
  // ── 기존 물고기 (기본: 일반) ──
  {
    id: "scalare",
    labelKo: "스칼라 물고기",
    cost: 40,
    image: "/aquarium/scalare.png",
    size: 0.8,
    swimY: [30, 65],
    breedProb: 0.28,
    isWild: false,
    ingredient: "녹색채소",
    rarity: "일반",
    description: "온화한 성격의 소형 관상어예요.",
  },
  {
    id: "goldfish",
    labelKo: "금붕어",
    cost: 40,
    image: "/aquarium/goldfish.png",
    size: 0.8,
    swimY: [25, 55],
    breedProb: 0.3,
    isWild: false,
    ingredient: "밀",
    rarity: "일반",
    description: "초보도 키우기 쉬운 친숙한 물고기예요.",
  },
  {
    id: "anglerfish",
    labelKo: "아귀",
    cost: 105,
    image: "/aquarium/anglerfish.png",
    size: 1.3,
    swimY: [70, 95],
    breedProb: 0.1,
    isWild: false,
    ingredient: "고기",
    rarity: "희귀",
    description: "깊은 바다에서 빛으로 사냥하는 괴짜 어류예요.",
  },
  {
    id: "nautilus",
    labelKo: "암모나이트",
    cost: 85,
    image: "/aquarium/nautilus.png",
    size: 1.0,
    swimY: [65, 95],
    breedProb: 0.14,
    isWild: true,
    ingredient: "소금",
    rarity: "희귀",
    description: "고대의 껍질을 닮은 신비한 연체동물이에요.",
  },
  {
    id: "cardinalfish",
    labelKo: "열동가리돔",
    cost: 65,
    image: "/aquarium/cardinalfish.png",
    size: 0.8,
    swimY: [35, 65],
    breedProb: 0.2,
    isWild: false,
    ingredient: "양파",
    rarity: "일반",
    description: "형광빛 줄무늬가 매력적인 작은 바닷물고기예요.",
  },
  {
    id: "mackerel",
    labelKo: "고등어",
    cost: 70,
    image: "/aquarium/mackerel.png",
    size: 1.4,
    swimY: [20, 60],
    breedProb: 0.18,
    isWild: false,
    ingredient: "고기",
    rarity: "일반",
    description: "무리를 지어 바람처럼 헤엄치는 회유성 어류예요.",
  },
  {
    id: "guppy",
    labelKo: "구피",
    cost: 35,
    image: "/aquarium/guppy.png",
    size: 0.5,
    swimY: [30, 70],
    breedProb: 0.35,
    isWild: false,
    ingredient: "녹색채소",
    rarity: "일반",
    description: "작고 색鮮한 꼬리가 돋보이는 인기 품종이에요.",
  },
  {
    id: "stripedfish",
    labelKo: "줄무늬 물고기",
    cost: 40,
    image: "/aquarium/stripedfish.png",
    size: 0.8,
    swimY: [35, 65],
    breedProb: 0.28,
    isWild: false,
    ingredient: "밀",
    rarity: "일반",
    description: "규칙적인 줄무늬가 운치 있는 소형 어종이에요.",
  },
  {
    id: "shellfish",
    labelKo: "조개",
    cost: 20,
    image: "/aquarium/shellfish.png",
    size: 0.8,
    swimY: [85, 100],
    breedProb: 0.35,
    isWild: false,
    ingredient: "소금",
    rarity: "일반",
    description: "바닥에서 조용히 여과섭식을 하는 친구예요.",
  },
  {
    id: "seaeel",
    labelKo: "바다뱀장어",
    cost: 75,
    image: "/aquarium/seaeel.png",
    size: 1.3,
    swimY: [60, 95],
    breedProb: 0.16,
    isWild: false,
    ingredient: "고기",
    rarity: "일반",
    description: "긴 몸으로 틈새를 누비는 야행성 어류예요.",
  },
  {
    id: "shrimp",
    labelKo: "새우",
    cost: 40,
    image: "/aquarium/shrimp.png",
    size: 0.5,
    swimY: [75, 95],
    breedProb: 0.22,
    isWild: false,
    ingredient: "소금",
    rarity: "일반",
    description: "청소부 역할을 톡톡히 하는 작은 갑각류예요.",
  },
  {
    id: "clownfish",
    labelKo: "흰동가리",
    cost: 50,
    image: "/aquarium/clownfish.png",
    size: 0.9,
    swimY: [35, 65],
    breedProb: 0.24,
    isWild: false,
    ingredient: "양파",
    rarity: "일반",
    description: "말미잘과 공생하는 사랑스러운 바다의 인기스타예요.",
  },
  {
    id: "squid",
    labelKo: "오징어",
    cost: 55,
    image: "/aquarium/squid.png",
    size: 1.2,
    swimY: [45, 85],
    breedProb: 0.22,
    isWild: false,
    ingredient: "얼음",
    rarity: "일반",
    description: "잉크를 뿜어 빠르게 사라지는 마술사예요.",
  },
  {
    id: "turtle",
    labelKo: "바다거북",
    cost: 65,
    image: "/aquarium/turtle.png",
    size: 1.3,
    swimY: [25, 65],
    breedProb: 0.16,
    isWild: false,
    ingredient: "녹색채소",
    rarity: "일반",
    description: "느긋한 헤엄으로 수조를 유영하는 장수 아이콘이에요.",
  },
  {
    id: "jellyfish",
    labelKo: "해파리",
    cost: 65,
    image: "/aquarium/jellyfish.png",
    size: 1.1,
    swimY: [20, 70],
    breedProb: 0.14,
    isWild: false,
    ingredient: "얼음",
    rarity: "일반",
    description: "유영이 몽환적인 젤리 같은 해양생물이죠.",
  },
  {
    id: "dolphin",
    labelKo: "돌고래",
    cost: 105,
    image: "/aquarium/dolphin.png",
    size: 2.5,
    swimY: [10, 50],
    breedProb: 0.08,
    isWild: false,
    ingredient: "버터",
    rarity: "희귀",
    description: "영리하고 사교적인 바다의 미소천사예요.",
  },
  {
    id: "seahorse",
    labelKo: "해마",
    cost: 55,
    image: "/aquarium/seahorse.png",
    size: 0.6,
    swimY: [40, 85],
    breedProb: 0.26,
    isWild: false,
    ingredient: "꿀",
    rarity: "일반",
    description: "수초에 매달려 몸을 숨기는 신비한 어종이에요.",
  },
  {
    id: "pufferfish",
    labelKo: "복어",
    cost: 75,
    image: "/aquarium/pufferfish.png",
    size: 1.0,
    swimY: [30, 70],
    breedProb: 0.16,
    isWild: false,
    ingredient: "치즈",
    rarity: "일반",
    description: "경계하면 몸을 부풀려 스스로를 지키는 독특한 친구예요.",
  },
  {
    id: "stingray",
    labelKo: "가오리",
    cost: 85,
    image: "/aquarium/stingray.png",
    size: 1.2,
    swimY: [60, 95],
    breedProb: 0.12,
    isWild: false,
    ingredient: "베이컨",
    rarity: "일반",
    description: "날개짓하듯 우아하게 미끄러지는 해저의 글라이더예요.",
  },
  {
    id: "lobster",
    labelKo: "랍스타",
    cost: 75,
    image: "/aquarium/lobster.png",
    size: 0.8,
    swimY: [75, 98],
    breedProb: 0.15,
    isWild: false,
    ingredient: "버터",
    rarity: "일반",
    description: "튼튼한 집게로 바닥을 천천히 거니는 갑각류예요.",
  },
  {
    id: "shark",
    labelKo: "상어",
    cost: 160,
    image: "/aquarium/shark.png",
    size: 2.5,
    swimY: [20, 80],
    breedProb: 0.06,
    isWild: true,
    ingredient: "고기",
    rarity: "희귀",
    description: "예리한 감각의 바다 최상위 포식자예요.",
  },
  {
    id: "whale",
    labelKo: "고래",
    cost: 185,
    image: "/aquarium/whale.png",
    size: 5.0,
    swimY: [50, 55],
    breedProb: 0.03,
    isWild: true,
    ingredient: "우유",
    rarity: "희귀",
    description: "평온한 노랫소리로 바다를 울리는 거대한 존재예요.",
  },
  {
    id: "swordfish",
    labelKo: "청새치",
    cost: 105,
    image: "/aquarium/swordfish.png",
    size: 1.5,
    swimY: [20, 55],
    breedProb: 0.09,
    isWild: true,
    ingredient: "고기",
    rarity: "희귀",
    description: "창 같은 주둥이로 순식간에 내달리는 스프린터예요.",
  },
  {
    id: "crab",
    labelKo: "게",
    cost: 38,
    image: "/aquarium/crab.png",
    size: 0.5,
    swimY: [75, 85],
    breedProb: 0.26,
    isWild: false,
    ingredient: "소금",
    rarity: "일반",
    description: "옆걸음으로 바닥을 청소하는 성실한 주민이에요.",
  },

  // ── 신기한 5종 (전설) ──
  {
    id: "ghost-koi",
    labelKo: "유령 비단잉어",
    cost: 150,
    image: "/aquarium/ghost-koi.png",
    size: 1.6,
    swimY: [25, 60],
    breedProb: 0.06,
    isWild: true,
    ingredient: "꿀",
    rarity: "전설",
    description: "수면 아래서 은은히 빛이 흐르는 신비의 잉어예요.",
  },
  {
    id: "aurora-ray",
    labelKo: "오로라 가오리",
    cost: 165,
    image: "/aquarium/aurora-ray.png",
    size: 1.8,
    swimY: [55, 90],
    breedProb: 0.05,
    isWild: true,
    ingredient: "얼음",
    rarity: "전설",
    description: "날개에 북극광 같은 빛무늬가 흐르는 가오리예요.",
  },
  {
    id: "nebula-octopus",
    labelKo: "성운 문어",
    cost: 155,
    image: "/aquarium/nebula-octopus.png",
    size: 1.9,
    swimY: [45, 85],
    breedProb: 0.05,
    isWild: true,
    ingredient: "소금",
    rarity: "전설",
    description: "몸에 별무리처럼 점등이 번지는 괴짜 문어예요.",
  },
  {
    id: "crystal-seahorse",
    labelKo: "크리스탈 해마",
    cost: 130,
    image: "/aquarium/crystal-seahorse.png",
    size: 0.9,
    swimY: [35, 80],
    breedProb: 0.07,
    isWild: true,
    ingredient: "치즈",
    rarity: "전설",
    description: "수정같이 투명한 갑옷을 걸친 귀한 해마예요.",
  },
  {
    id: "phoenix-fish",
    labelKo: "불새어",
    cost: 175,
    image: "/aquarium/phoenix-fish.png",
    size: 1.7,
    swimY: [20, 60],
    breedProb: 0.04,
    isWild: true,
    ingredient: "버터",
    rarity: "전설",
    description: "불꽃 깃털처럼 물결치는 지느러미가 압권이에요.",
  },

  // ── 재료 테마 15종 (에픽) ──
  {
    id: "ing-milk-minnow",
    labelKo: "밀크 미노우",
    cost: 60,
    image: "/aquarium/ing-milk-minnow.png",
    size: 0.9,
    swimY: [30, 65],
    breedProb: 0.22,
    isWild: true,
    ingredient: "우유",
    rarity: "에픽",
    description: "우윳빛 비늘이 반짝이는 부드러운 미노우예요.",
  },
  {
    id: "ing-cheese-goby",
    labelKo: "치즈 고비",
    cost: 70,
    image: "/aquarium/ing-cheese-goby.png",
    size: 0.9,
    swimY: [35, 70],
    breedProb: 0.2,
    isWild: true,
    ingredient: "치즈",
    rarity: "에픽",
    description: "치즈색 반점이 귀여운 작은 바닥고기예요.",
  },
  {
    id: "ing-egg-darter",
    labelKo: "에그 다터",
    cost: 55,
    image: "/aquarium/ing-egg-darter.png",
    size: 0.8,
    swimY: [25, 60],
    breedProb: 0.24,
    isWild: true,
    ingredient: "계란",
    rarity: "에픽",
    description: "노른자 같은 노란색 포인트가 매력적이에요.",
  },
  {
    id: "ing-meat-pike",
    labelKo: "미트 파이크",
    cost: 95,
    image: "/aquarium/ing-meat-pike.png",
    size: 1.3,
    swimY: [20, 55],
    breedProb: 0.15,
    isWild: true,
    ingredient: "고기",
    rarity: "에픽",
    description: "육식 본능이 강한 날렵한 포식자예요.",
  },
  {
    id: "ing-bacon-goby",
    labelKo: "베이컨 고비",
    cost: 85,
    image: "/aquarium/ing-bacon-goby.png",
    size: 1.0,
    swimY: [35, 70],
    breedProb: 0.18,
    isWild: true,
    ingredient: "베이컨",
    rarity: "에픽",
    description: "줄무늬가 바삭한 베이컨을 닮았어요.",
  },
  {
    id: "ing-honey-snapper",
    labelKo: "허니 스내퍼",
    cost: 75,
    image: "/aquarium/ing-honey-snapper.png",
    size: 1.0,
    swimY: [30, 65],
    breedProb: 0.2,
    isWild: true,
    ingredient: "꿀",
    rarity: "에픽",
    description: "달빛 아래 황금빛으로 빛나는 스내퍼예요.",
  },
  {
    id: "ing-salt-sardine",
    labelKo: "솔트 사딘",
    cost: 45,
    image: "/aquarium/ing-salt-sardine.png",
    size: 0.8,
    swimY: [50, 95],
    breedProb: 0.26,
    isWild: true,
    ingredient: "소금",
    rarity: "에픽",
    description: "바닷바람 같은 짭짤한 무늬가 포인트예요.",
  },
  {
    id: "ing-ice-carp",
    labelKo: "아이스 잉어",
    cost: 65,
    image: "/aquarium/ing-ice-carp.png",
    size: 1.0,
    swimY: [40, 80],
    breedProb: 0.2,
    isWild: true,
    ingredient: "얼음",
    rarity: "에픽",
    description: "서늘한 푸른 비늘이 맑게 반짝여요.",
  },
  {
    id: "ing-wheat-carp",
    labelKo: "위트 카프",
    cost: 55,
    image: "/aquarium/ing-wheat-carp.png",
    size: 1.0,
    swimY: [35, 70],
    breedProb: 0.22,
    isWild: true,
    ingredient: "밀",
    rarity: "에픽",
    description: "황금빛 이삭 같은 꼬리지느러미가 특징이에요.",
  },
  {
    id: "ing-flatbread-flounder",
    labelKo: "난 가자미",
    cost: 70,
    image: "/aquarium/ing-flatbread-flounder.png",
    size: 1.1,
    swimY: [35, 70],
    breedProb: 0.18,
    isWild: true,
    ingredient: "플랫브레드",
    rarity: "에픽",
    description: "납작한 몸에 따끈한 빵 무늬가 퍼져 있어요.",
  },
  {
    id: "ing-butter-perch",
    labelKo: "버터 퍼치",
    cost: 60,
    image: "/aquarium/ing-butter-perch.png",
    size: 1.0,
    swimY: [25, 65],
    breedProb: 0.22,
    isWild: true,
    ingredient: "버터",
    rarity: "에픽",
    description: "버터처럼 윤기 도는 노란빛이 매력적이에요.",
  },
  {
    id: "ing-ketchup-koi",
    labelKo: "케찹 코이",
    cost: 50,
    image: "/aquarium/ing-ketchup-koi.png",
    size: 0.9,
    swimY: [25, 60],
    breedProb: 0.24,
    isWild: true,
    ingredient: "케찹",
    rarity: "에픽",
    description: "선명한 붉은 반점이 톡톡 튀는 잉어예요.",
  },
  {
    id: "ing-onion-eel",
    labelKo: "어니언 일",
    cost: 50,
    image: "/aquarium/ing-onion-eel.png",
    size: 1.1,
    swimY: [55, 95],
    breedProb: 0.22,
    isWild: true,
    ingredient: "양파",
    rarity: "에픽",
    description: "새콤한 향처럼 호기심 많은 뱀장어요.",
  },
  {
    id: "ing-greens-guppy",
    labelKo: "그린스 구피",
    cost: 35,
    image: "/aquarium/ing-greens-guppy.png",
    size: 0.6,
    swimY: [35, 75],
    breedProb: 0.28,
    isWild: true,
    ingredient: "녹색채소",
    rarity: "에픽",
    description: "풀잎 같은 꼬리로 수초 사이를 누빕니다.",
  },
  {
    id: "ing-mango-tetra",
    labelKo: "망고 테트라",
    cost: 65,
    image: "/aquarium/ing-mango-tetra.png",
    size: 0.9,
    swimY: [30, 65],
    breedProb: 0.2,
    isWild: true,
    ingredient: "망고",
    rarity: "에픽",
    description: "망고빛 그러데이션이 사랑스러운 소형어예요.",
  },
];

export const FISH_BY_ID = Object.fromEntries(
  FISHES.map((f) => [f.id, f])
) as Record<string, FishInfo>;
